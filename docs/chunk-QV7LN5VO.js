import{a as ne}from"./chunk-KSIFYTWZ.js";import{a as ee}from"./chunk-DSQ4TML7.js";import{a as pe}from"./chunk-SZRS234F.js";var te,ln=r=>{if(te===void 0){let c=r.style.animationName!==void 0,s=r.style.webkitAnimationName!==void 0;te=!c&&s?"-webkit-":""}return te},ie=(r,c,s)=>{let y=c.startsWith("animation")?ln(r):"";r.style.setProperty(y+c,s)},z=(r=[],c)=>{if(c!==void 0){let s=Array.isArray(c)?c:[c];return[...r,...s]}return r},hn=r=>{let c,s,y,m,w,b,a=[],v=[],K=[],A=!1,f,N={},Y=[],H=[],$={},F=0,D=!1,x=!1,L,_,k,P=!0,W=!1,I=!0,t,M=!1,re=r,G=[],T=[],O=[],p=[],u=[],oe=[],se=[],ae=[],ce=[],fe=[],h=[],ve=typeof AnimationEffect=="function"||ee!==void 0&&typeof ee.AnimationEffect=="function",g=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&ve,le=()=>h,Ae=e=>(u.forEach(n=>{n.destroy(e)}),Ce(e),p.length=0,u.length=0,a.length=0,ke(),A=!1,I=!0,t),Ce=e=>{de(),e&&Pe()},we=()=>{D=!1,x=!1,I=!0,L=void 0,_=void 0,k=void 0,F=0,W=!1,P=!0,M=!1},Fe=()=>F!==0&&!M,ue=(e,n)=>{let i=n.findIndex(o=>o.c===e);i>-1&&n.splice(i,1)},Le=(e,n)=>(O.push({c:e,o:n}),t),Z=(e,n)=>((n?.oneTimeCallback?T:G).push({c:e,o:n}),t),ke=()=>(G.length=0,T.length=0,t),de=()=>{g&&(h.forEach(e=>{e.cancel()}),h.length=0)},Pe=()=>{oe.forEach(e=>{e?.parentNode&&e.parentNode.removeChild(e)}),oe.length=0},Se=e=>(se.push(e),t),_e=e=>(ae.push(e),t),We=e=>(ce.push(e),t),Ie=e=>(fe.push(e),t),Te=e=>(v=z(v,e),t),Ve=e=>(K=z(K,e),t),Re=(e={})=>(N=e,t),De=(e=[])=>{for(let n of e)N[n]="";return t},xe=e=>(Y=z(Y,e),t),Me=e=>(H=z(H,e),t),Oe=(e={})=>($=e,t),Ue=(e=[])=>{for(let n of e)$[n]="";return t},J=()=>w!==void 0?w:f?f.getFill():"both",U=()=>L!==void 0?L:b!==void 0?b:f?f.getDirection():"normal",Q=()=>D?"linear":y!==void 0?y:f?f.getEasing():"linear",S=()=>x?0:_!==void 0?_:s!==void 0?s:f?f.getDuration():0,X=()=>m!==void 0?m:f?f.getIterations():1,j=()=>k!==void 0?k:c!==void 0?c:f?f.getDelay():0,Be=()=>a,ze=e=>(b=e,d(!0),t),qe=e=>(w=e,d(!0),t),Ke=e=>(c=e,d(!0),t),Ne=e=>(y=e,d(!0),t),Ye=e=>(!g&&e===0&&(e=1),s=e,d(!0),t),He=e=>(m=e,d(!0),t),$e=e=>(f=e,t),Ge=e=>{if(e!=null)if(e.nodeType===1)p.push(e);else if(e.length>=0)for(let n=0;n<e.length;n++)p.push(e[n]);else console.error("Invalid addElement value");return t},Ze=e=>{if(e!=null)if(Array.isArray(e))for(let n of e)n.parent(t),u.push(n);else e.parent(t),u.push(e);return t},Je=e=>{let n=a!==e;return a=e,n&&Qe(a),t},Qe=e=>{g&&le().forEach(n=>{let i=n.effect;if(i.setKeyframes)i.setKeyframes(e);else{let o=new KeyframeEffect(i.target,e,i.getTiming());n.effect=o}})},Xe=()=>{se.forEach(o=>o()),ae.forEach(o=>o());let e=v,n=K,i=N;p.forEach(o=>{let l=o.classList;e.forEach(E=>l.add(E)),n.forEach(E=>l.remove(E));for(let E in i)i.hasOwnProperty(E)&&ie(o,E,i[E])})},je=()=>{ce.forEach(l=>l()),fe.forEach(l=>l());let e=P?1:0,n=Y,i=H,o=$;p.forEach(l=>{let E=l.classList;n.forEach(C=>E.add(C)),i.forEach(C=>E.remove(C));for(let C in o)o.hasOwnProperty(C)&&ie(l,C,o[C])}),_=void 0,L=void 0,k=void 0,G.forEach(l=>l.c(e,t)),T.forEach(l=>l.c(e,t)),T.length=0,I=!0,P&&(W=!0),P=!0},B=()=>{F!==0&&(F--,F===0&&(je(),f&&f.animationFinish()))},en=()=>{p.forEach(e=>{let n=e.animate(a,{id:re,delay:j(),duration:S(),easing:Q(),iterations:X(),fill:J(),direction:U()});n.pause(),h.push(n)}),h.length>0&&(h[0].onfinish=()=>{B()})},me=()=>{Xe(),a.length>0&&g&&en(),A=!0},V=e=>{e=Math.min(Math.max(e,0),.9999),g&&h.forEach(n=>{n.currentTime=n.effect.getComputedTiming().delay+S()*e,n.pause()})},ge=e=>{h.forEach(n=>{n.effect.updateTiming({delay:j(),duration:S(),easing:Q(),iterations:X(),fill:J(),direction:U()})}),e!==void 0&&V(e)},d=(e=!1,n=!0,i)=>(e&&u.forEach(o=>{o.update(e,n,i)}),g&&ge(i),t),nn=(e=!1,n)=>(u.forEach(i=>{i.progressStart(e,n)}),he(),D=e,A||me(),d(!1,!0,n),t),tn=e=>(u.forEach(n=>{n.progressStep(e)}),V(e),t),rn=(e,n,i)=>(D=!1,u.forEach(o=>{o.progressEnd(e,n,i)}),i!==void 0&&(_=i),W=!1,P=!0,e===0?(L=U()==="reverse"?"normal":"reverse",L==="reverse"&&(P=!1),g?(d(),V(1-n)):(k=(1-n)*S()*-1,d(!1,!1))):e===1&&(g?(d(),V(n)):(k=n*S()*-1,d(!1,!1))),e!==void 0&&!f&&Ee(),t),he=()=>{A&&(g?h.forEach(e=>{e.pause()}):p.forEach(e=>{ie(e,"animation-play-state","paused")}),M=!0)},on=()=>(u.forEach(e=>{e.pause()}),he(),t),sn=()=>{B()},an=()=>{h.forEach(e=>{e.play()}),(a.length===0||p.length===0)&&B()},cn=()=>{g&&(V(0),ge())},Ee=e=>new Promise(n=>{e?.sync&&(x=!0,Z(()=>x=!1,{oneTimeCallback:!0})),A||me(),W&&(cn(),W=!1),I&&(F=u.length+1,I=!1);let i=()=>{ue(o,T),n()},o=()=>{ue(i,O),n()};Z(o,{oneTimeCallback:!0}),Le(i,{oneTimeCallback:!0}),u.forEach(l=>{l.play()}),g?an():sn(),M=!1}),fn=()=>{u.forEach(e=>{e.stop()}),A&&(de(),A=!1),we(),O.forEach(e=>e.c(0,t)),O.length=0},ye=(e,n)=>{let i=a[0];return i!==void 0&&(i.offset===void 0||i.offset===0)?i[e]=n:a=[{offset:0,[e]:n},...a],t};return t={parentAnimation:f,elements:p,childAnimations:u,id:re,animationFinish:B,from:ye,to:(e,n)=>{let i=a[a.length-1];return i!==void 0&&(i.offset===void 0||i.offset===1)?i[e]=n:a=[...a,{offset:1,[e]:n}],t},fromTo:(e,n,i)=>ye(e,n).to(e,i),parent:$e,play:Ee,pause:on,stop:fn,destroy:Ae,keyframes:Je,addAnimation:Ze,addElement:Ge,update:d,fill:qe,direction:ze,iterations:He,duration:Ye,easing:Ne,delay:Ke,getWebAnimations:le,getKeyframes:Be,getFill:J,getDirection:U,getDelay:j,getIterations:X,getEasing:Q,getDuration:S,afterAddRead:We,afterAddWrite:Ie,afterClearStyles:Ue,afterStyles:Oe,afterRemoveClass:Me,afterAddClass:xe,beforeAddRead:Se,beforeAddWrite:_e,beforeClearStyles:De,beforeStyles:Re,beforeRemoveClass:Ve,beforeAddClass:Te,onFinish:Z,isRunning:Fe,progressStart:nn,progressStep:tn,progressEnd:rn}};var R=r=>{r.tabIndex=-1,r.focus()},q=r=>r.offsetParent!==null,un=()=>({saveViewFocus:s=>{if(ne.get("focusManagerPriority",!1)){let m=document.activeElement;m!==null&&s?.contains(m)&&m.setAttribute(be,"true")}},setViewFocus:s=>{let y=ne.get("focusManagerPriority",!1);if(Array.isArray(y)&&!s.contains(document.activeElement)){let m=s.querySelector(`[${be}]`);if(m&&q(m)){R(m);return}for(let w of y)switch(w){case"content":let b=s.querySelector('main, [role="main"]');if(b&&q(b)){R(b);return}break;case"heading":let a=s.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&q(a)){R(a);return}break;case"banner":let v=s.querySelector('header, [role="banner"]');if(v&&q(v)){R(v);return}break;default:pe(`Unrecognized focus manager priority value ${w}`);break}R(s)}}}),be="ion-last-focus";var vn=un();var An=r=>{if(r.classList.contains("ion-page"))return r;let c=r.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return c||r};export{hn as a,An as b};
